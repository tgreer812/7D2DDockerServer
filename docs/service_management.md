# Managing the 7D2D Service

Once the VM is deployed, the 7 Days to Die server runs as a systemd service named `7dtd.service`.

You will need to SSH into the VM using the credentials from `config.json` and the public IP address output by the deployment script (`ssh <adminUsername>@<public-ip>`) to run these commands.

## Checking Status

To see if the service is running, check its status:

```bash
sudo systemctl status 7dtd.service
```

Look for `Active: active (running)` in the output.

## Viewing Logs

To view the logs generated by the service (including output from the `docker login`, `docker stop`, `docker run` commands):

```bash
# View most recent logs
sudo journalctl -u 7dtd.service -e

# Follow logs in real-time
sudo journalctl -f -u 7dtd.service
```

To view logs from *inside* the container (SteamCMD updates, game server output):

```bash
# Check SteamCMD update log
sudo cat /opt/7dtd-data/steamcmd_update.log

# List game server logs
sudo ls -l /opt/7dtd-data/logs/

# View a specific game server log
sudo cat /opt/7dtd-data/logs/<logfilename>
```

## Stopping the Service

To gracefully stop the server (stops the Docker container):

```bash
sudo systemctl stop 7dtd.service
```

## Starting the Service

If the service was stopped manually, start it again:

```bash
sudo systemctl start 7dtd.service
```

## Restarting the Service

A shortcut to stop and then start the service:

```bash
sudo systemctl restart 7dtd.service
```

## Automatic Restarts

The service is configured with `Restart=always`. This means `systemd` will automatically restart the service if the Docker container exits unexpectedly (e.g., due to a crash or being manually killed via `docker kill` or `kill <PID>`). It will *not* restart if stopped manually with `systemctl stop`.
